<div class="container bg-light">
  <div class="row">
    <div class="col-md-4 col-md-offset-4">
      <form class="form-horizontal" role="form">
        <fieldset>
          <h1>Edit user</h1>
          <div class="form-group">
            <label class="col-sm-10 control-label">First name</label>
            <div class="col-sm-10">
              <input type="text" name="firstName" value="{{user.firstName}}" placeholder="name" class="form-control" required minlength="2" [(ngModel)]="user.firstName" #firstName="ngModel">
              <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)"
                   class="alert alert-danger">
                <div *ngIf="firstName.errors?.['required']">
                  Your first name is required.
                </div>
                <div *ngIf="firstName.errors?.['minlength']">
                  your first name must be at least 2 characters long.
                </div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-10 control-label">Last name</label>
            <div class="col-sm-10">
              <input type="text" name="lastName" value="{{user.lastName}}" placeholder="lastName" class="form-control" required minlength="3" [(ngModel)]="user.lastName" #lastName="ngModel">
              <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
                   class="alert alert-danger">
                <div *ngIf="lastName.errors?.['required']">
                  Your last name is required.
                </div>
                <div *ngIf="lastName.errors?.['minlength']">
                  Your last name must be at least 4 characters long.
                </div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">Email</label>
            <div class="col-sm-10">
              <input type="email" name="userEmail" value="{{user.email}}" placeholder="email" class="form-control" required email [(ngModel)]="user.email"  #userEmail="ngModel">
              <div *ngIf="userEmail.invalid && (userEmail.dirty || userEmail.touched)"
                   class="alert alert-danger">
                <div *ngIf="userEmail.errors?.['required']">
                  An email is required.
                </div>
                <div *ngIf="userEmail.errors?.['email']">
                  This email is not valid
                </div>
              </div>
            </div>
            <label class="col-sm-2 control-label">Username</label>
            <div class="col-sm-10">
              <input type="text" name="username" value="{{user.username}}" placeholder="username" class="form-control" required minlength="4" [(ngModel)]="user.username" #username="ngModel">
              <div *ngIf="username.invalid && (username.dirty || username.touched)"
                   class="alert alert-danger">
                <div *ngIf="username.errors?.['required']">
                  Username is required.
                </div>
                <div *ngIf="username.errors?.['minlength']">
                  Your username must be at least 4 characters long.
                </div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
              <div class="pull-right">
                <button  type="submit" class="btn btn-primary" style="margin: 4px;" (click)="onSubmit(user.firstName, user.lastName, user.email, user.username)">Update</button>
                <button class="btn btn-default" routerLink="..">cancel</button>
              </div>
            </div>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
</div>
